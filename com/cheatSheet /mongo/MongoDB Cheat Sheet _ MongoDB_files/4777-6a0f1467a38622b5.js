"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4777],{95101:function(n,t,e){e.d(t,{C:function(){return r}});var r="Latest"},51746:function(n,t,e){e.d(t,{G2:function(){return a},K2:function(){return c},L8:function(){return u},ah:function(){return s},vg:function(){return i}});var r=e(67294),o=e(95101),u=10,i={Latest:0,"Highest Rated":2,"Closest Upcoming":3},c=function(n){return"Event"===n?"Closest Upcoming":o.C},a=function(n){var t=["s=".concat(encodeURIComponent(n.searchString)),"sort_mode=".concat(i[n.sortBy]),];return n.contentType&&t.push("content_type=".concat(encodeURIComponent(n.contentType))),n.tagSlug&&t.push("tag_slug=".concat(encodeURIComponent(n.tagSlug))),t.join("&")},s=function(n){var t=(0,r.useState)(!1),e=t[0],o=t[1];return(0,r.useEffect)(function(){o(!1)},[e]),(0,r.useEffect)(function(){n||o(!0)},[n]),(0,r.useEffect)(function(){o(!0)},[]),e?{key:Date.now()}:{}}},74777:function(n,t,e){e.d(t,{XU:function(){return U},Iq:function(){return L},yD:function(){return A},xJ:function(){return F},g_:function(){return N},vs:function(){return T},ZG:function(){return C},TE:function(){return G},sA:function(){return I}});var r,o,u,i=e(47568),c=e(14924),a=e(26042),s=e(69396),l=e(29815),f=e(97582),p=e(64487),v=e(51746),d=e(95101),y=e(36559),h=e.n(y),m=e(83454),g=h()({browser:{write:function(n){console.log(JSON.stringify(n))}},level:m.env.PINO_LOG_LEVEL||"info",timestamp:y.stdTimeFunctions.isoTime}),_=e(83454),Z=(r=(0,i.Z)(function(n){var t,e,r,o,u,i,c,a;return(0,f.__generator)(this,function(i){switch(i.label){case 0:t=(0,v.G2)(n),e="".concat(_.env.SEARCH_SERVICE_URL,"/search?").concat(t),r={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"}},u=0,i.label=1;case 1:if(!(!o&&u<3))return[3,6];u++,i.label=2;case 2:return i.trys.push([2,4,,5]),[4,fetch(e,r)];case 3:if(!(o=i.sent()).ok)throw Error("Bad response from search endpoint: ".concat(o.status));return[3,5];case 4:if(c=i.sent(),g.error("Failed request to search service ".concat(u," time(s). Error: ").concat(c)),3===u)throw p.Tb(c),c;return[3,5];case 5:return[3,1];case 6:if(!o)throw Error("Got empty response from search service 5 times in a row.");return[4,o.json()];case 7:return[2,i.sent()]}})}),function(n){return r.apply(this,arguments)}),b=(o=(0,i.Z)(function(){var n;return(0,f.__generator)(this,function(n){switch(n.label){case 0:return[4,Z({searchString:"",sortBy:d.C})];case 1:return[2,n.sent()]}})}),function(){return o.apply(this,arguments)}),E=e(91703),w=e(9865),C=function(n){var t,e,r=n.type,o=n.authors,u=n.name,i=n.image,c=n.description,a=n.slug,s=n.date,l=n.start_time,f=n.end_time,p=n.duration_in_min,v=n.tags,d=n.location,y=n.city,h=n.state,m=n.country,g=n.coordinates,_=n.video_type,Z=i&&i.url&&"string"==typeof i.url?{url:i.url,alt:i.alternativeText}:y?{url:"",city:y}:void 0;return{authors:o.map(function(n){return{name:n.name,image:{url:n.image.url,alt:n.image.alternativeText},calculated_slug:n.calculated_slug}}),category:r,subCategory:(null===(t=null==v?void 0:v.find(function(n){return(null==n?void 0:n.type)==="EventType"}))||void 0===t?void 0:t.name)||void 0,contentDate:l&&f?[l,f]:s,description:c,duration_in_min:p,image:Z,slug:a,tags:v,title:u,featured:!1,location:d,city:y,state:h,country:m,coordinates:g,videoType:_}},T=function(n,t){var e;return fetch((0,E.m)("/api/search")+"?"+n,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({filters:(null==t?void 0:t.map(function(n){var t;return{name:n.name,type:n.type}}))||[]})}).then((e=(0,i.Z)(function(n){var t;return(0,f.__generator)(this,function(t){switch(t.label){case 0:return[4,n.json()];case 1:return[2,t.sent().map(C)]}})}),function(n){return e.apply(this,arguments)}))},F=function(n){var t;return fetch((0,E.m)("/api/location")+"?"+n).then((t=(0,i.Z)(function(n){var t;return(0,f.__generator)(this,function(t){switch(t.label){case 0:return[4,n.json()];case 1:return[2,t.sent().results]}})}),function(n){return t.apply(this,arguments)}))},S=function(n){var t;return{name:n.name,type:n.type,subFilters:[],count:0}},R=function(n,t){return n.name===t.name&&n.type===t.type},O=function(n,t){return"".concat(n.name,",").concat(n.type)+(t?",".concat(t.name,",").concat(t.type):"")},j=function(n){n.length&&(n.forEach(function(n){var t=n.subFilters;t&&t.sort(function(n,t){return((null==n?void 0:n.count)||-1)<((null==t?void 0:t.count)||-1)?1:-1})}),n.sort(function(n,t){return((null==n?void 0:n.count)||-1)<((null==t?void 0:t.count)||-1)?1:-1}))},k=function(n){var t=function(n){var t,e,r=(null===(t=n.subFilters)||void 0===t?void 0:t.filter(function(n){return"CodeLevel"!==n.type}))||[];r.length===(null===(e=n.subFilters)||void 0===e?void 0:e.length)||"ContentType"===n.type&&"Code Example"===n.name||(n.subFilters=r)};n.forEach(function(n){t(n)})};(0,i.Z)(function(n,t){var e,r,o,u,i,c,l;return(0,f.__generator)(this,function(f){switch(f.label){case 0:if(e=n||"Search",o=t)return[3,2];return[4,b()];case 1:o=f.sent(),f.label=2;case 2:return u={},i=(r=o).flatMap(function(t){var r=t.tags,o=n===t.type||void 0===n;return r.flatMap(function(n){var t=w.ZZ[n.type||""],r=(null==t?void 0:t.contentTypeFilter)&&!(null==t?void 0:t.contentTypeFilter.includes(e)),i=O(n),c=u[i],a=!c&&0!==c;return(o?u[i]=a?1:c+1:a&&(u[i]=0),t&&!r&&a)?[S(n)]:[]})}),r.forEach(function(n){var t=n.tags;t.forEach(function(n){var e,r,o=w.og[n.type];if(o){var u=t.find(function(n){return n.type===o}),c=u&&i.find(function(n){return R(n,u)});c&&((null===(e=c.subFilters)||void 0===e?void 0:e.find(function(t){return R(t,n)}))||null===(r=c.subFilters)||void 0===r||r.push(S(n)))}})}),i.forEach(function(n){var t;null===(t=n.subFilters)||void 0===t||t.forEach(function(n){n.count=u[O(n)]||0}),n.count=u[O(n)]||0}),k(i),c=[],l=w.ZI.flatMap(function(n){var t=i.filter(function(t){return t.type===n.type});return(j(t),t.length&&(null==n?void 0:n.contentTypeFilter)&&"Search"!==e&&n.contentTypeFilter.includes(e))?(c.push({key:n.displayName,value:t}),[]):t.length?[{key:n.displayName,value:t}]:[]}),[2,c.concat(l).map(function(n){return(0,s.Z)((0,a.Z)({},n),{value:n.value.filter(function(n){return"Realm"!==n.name})})})]}})});var L=function(n,t){return!n&&0==t.length},A=function(n){return!n||Array.isArray(n)&&0===n.length},I=function(n,t,e,r){var o=t.reduce(function(n,t){if(!t.type)return n;var e,r,o=null===(e=w.ZZ[t.type])||void 0===e?void 0:e.query,u=null===(r=w.ZI.find(function(n){var e;return null===(e=n.subFilters)||void 0===e?void 0:e.includes(t.type||"")}))||void 0===r?void 0:r.query,i=o||u;return i?(0,l.Z)(n).concat([[i,t.name]]):n},[]),u=new URLSearchParams([["s",e],].concat((0,l.Z)(o),[["sortMode",v.vg[r||d.C].toString()],]));N("/developer".concat(n,"/?").concat(u.toString()))},U=function(n,t){var e=Object.keys(n).reduce(function(t,e){var r,o=w.GV[e];if(!o)return t;var u=Array.isArray(n[e])?n[e]:[n[e]],i=(null===(r=o.subFilters)||void 0===r?void 0:r.reduce(function(n,t){return(0,s.Z)((0,a.Z)({},n),(0,c.Z)({},t,u))},{}))||{};return(0,a.Z)((0,s.Z)((0,a.Z)({},t),(0,c.Z)({},o.type,u)),i)},{});return t.reduce(function(n,t){return(0,l.Z)(n).concat((0,l.Z)(t.value),(0,l.Z)(t.value.flatMap(function(n){return n.subFilters})))},[]).filter(function(n){return!!n.type&&!!e[n.type]&&e[n.type].includes(n.name)})},N=function(n){window.history.replaceState((0,s.Z)((0,a.Z)({},window.history.state),{as:n,url:n}),"",n)},G={revalidateOnFocus:!1,revalidateOnReconnect:!1,shouldRetryOnError:!1}}}]);
//# sourceMappingURL=4777-6a0f1467a38622b5.js.map